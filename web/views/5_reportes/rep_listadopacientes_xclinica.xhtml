<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="./../../templates/layout/plantilla.xhtml">
        <ui:define name="content">

            <div class="banda1"><b>LISTADO DE PACIENTES POR CLÍNCA</b></div>
            <br/>

            <!-- Panel color blanco -->
            <p:panel style="margin-right: 20pt; margin-left: 20pt; border-radius: 20px; border: solid 1px #D5D5D5">
                <br/><br/>
                <h:form id="reportetratamiento">

                    <p:growl id="mensaje" sticky="true" class="ui-growl"/> 

                    <div class="form-group" align="center">
                        <p:outputLabel value="Seleccione una clínica:" for="sucursalNombre" />
                            <br></br>
                            
                            <div >
                                <p:selectOneMenu id="sucursalNombre" value="#{reportesBean.clinicaId}" title="sucursal" style="width:40%" required="true" requiredMessage="Seleccione linea">
                                    <!-- TODO: update below reference to list of available items-->
                                    <f:selectItem itemLabel="Seleccione una..." noSelectionOption="true" itemValue="#{null}"/>
                                    <f:selectItems value="#{catalogosBean.todosSucursalesDisponibles()}" var="sucursal" itemLabel="#{sucursal.clinicaNombre}" itemValue="#{sucursal.clinicaId}" />

                                </p:selectOneMenu>
                            </div>
                    </div>

                    <br/><br/>

                    <div class="row">
                        <div class="col-md-12" align="center">
                            <p:commandLink action="#{reportesBean.repPacientesxClinica()}" class="btn btn-default buttonLevel1 w3-round" oncomplete="window.open('../../servlets/report/PDF','_blank')" target="_blank">
                                <i class="glyphicon glyphicon-search"></i> Ver reporte
                                <f:setPropertyActionListener value="rep_listadopacientes_xclinica" target="#{reportesBean.nombArch}"/>
                            </p:commandLink>
                        </div>
                    </div>
                    <br/><br/><br/><br/><br/><br/><br/><br/>
                </h:form>

            </p:panel>

        </ui:define>
    </ui:composition>
</html>