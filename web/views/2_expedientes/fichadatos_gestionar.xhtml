<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition>
        <br/>
        <h:form id="pacienteeditar">
            <p:tabView styleClass="registro" activeIndex="#{expedientesBean.tabIndexFicha}" style="margin-left: 10px; margin-right: 10px; border: solid 1px #D5D5D5">
                <p:tab title="Datos  del paciente">

                    <br/>
                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Primer nombre *</b></h6>
                            <p:inputText id="primernombregestion" value="#{expedientesBean.pacienteEditar.pacientePrimerNombre}" required="true" maxlength="25"
                                         style="width: 100%" validatorMessage="Primer nombre no válido." requiredMessage="Primer nombre es requerido.">
                                <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                            </p:inputText>
                            <p:message for="primernombregestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Segundo nombre</b></h6>
                            <p:inputText id="segundonombregestion" value="#{expedientesBean.pacienteEditar.pacienteSegundoNombre}" maxlength="25"
                                         style="width: 100%" validatorMessage="Segundo nombre no válido.">
                                <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                            </p:inputText>
                            <p:message for="segundonombregestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Primer apellido *</b></h6>
                            <p:inputText id="primerapellidogestion" value="#{expedientesBean.pacienteEditar.pacientePrimerApellido}" required="rue" maxlength="25"
                                         style="width: 100%" validatorMessage="Primer apellido no válido." requiredMessage="Primer apellido es requerido.">
                                <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                            </p:inputText>
                            <p:message for="primerapellidogestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Segundo apellido</b></h6>
                            <p:inputText id="segundoapellidogestion" value="#{expedientesBean.pacienteEditar.pacienteSegundoApellido}" maxlength="25"
                                         style="width: 100%" validatorMessage="Segundo apellido no válido.">
                                <f:validateRegex pattern="^([a-zA-Z ÑÁÉÍÓÚÜñáéíóúü.]{3,25})*$"/>
                            </p:inputText>
                            <p:message for="segundoapellidogestion"/>
                        </div>
                    </div>
                    <br/>

                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Fecha de nacimiento</b></h6>
                            <p:calendar id="fechanacimientogestion" value="#{expedientesBean.pacienteEditar.pacienteFechaNacimiento}" class="tamaniocalendario"
                                        showOn="false" pattern="dd-MM-yyyy" mask="true" validatorMessage="Fecha no válida."/>
                            <p:message for="fechanacimientogestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Sexo *</b></h6>
                            <p:selectOneMenu id="sexogestion" value="#{expedientesBean.pacienteEditar.pacienteSexo}" style="width: 100%">
                                <f:selectItem itemLabel="Masculino" itemValue="TRUE"/>
                                <f:selectItem itemLabel="Femenino" itemValue="FALSE"/>
                            </p:selectOneMenu>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Correo electrónico</b></h6>
                            <p:inputText id="correogestion" value="#{expedientesBean.pacienteEditar.pacienteCorreo}" maxlength="50" style="width: 100%"
                                         validatorMessage="Correo no válido." placeholder="ejemplo@mail.com">
                                <f:validateRegex pattern="^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4})*$"/>
                            </p:inputText>
                            <p:message for="correogestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Trabajo</b></h6>
                            <p:inputText id="trabajogestion" value="#{expedientesBean.pacienteEditar.pacienteTrabajo}" maxlength="50" style="width: 100%"/>
                        </div>
                    </div>
                    <br/>

                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Teléfono casa</b></h6>
                            <p:inputMask id="telefonofijogestion" value="#{expedientesBean.pacienteEditar.pacienteTelefonoCasa}" mask="9999-9999" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Teléfono oficina</b></h6>
                            <p:inputMask id="telefonooficinagestion" value="#{expedientesBean.pacienteEditar.pacienteTelefonoOficina}" mask="9999-9999" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Teléfono movil</b></h6>
                            <p:inputMask id="telefonomovilgestion" value="#{expedientesBean.pacienteEditar.pacienteTelefonoMovil}" mask="9999-9999" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <br/><br/>
                            <p:selectBooleanCheckbox id="whatsappgestion" value="#{expedientesBean.pacienteEditar.pacienteWhatsapp}"/> Posee Whatsapp
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="font-size: smaller; font-style: italic;">
                            <br/>
                            <p:selectBooleanCheckbox id="correoMandar" value="#{expedientesBean.pacienteEditar.pacienteNotificarCorreo}"/> Autoriza el envío de correos electrónicos. 
                        </div>
                    </div>
                    <br/>

                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-12" align="right">
                            <h:commandLink type="submit" class="btn btn-default buttonLevel1" actionListener="#{expedientesBean.editarPaciente()}"
                                           style="font-size: 11pt; width: 100pt; color: white; padding:9px; background-color:#FB6F52; font-weight:bold; border:solid 1px #FB6F52; -webkit-appearance:none; border-radius: 5px">
                                <i class="glyphicon glyphicon-floppy-disk"></i> Guardar
                                <f:event type="preValidate" listener="#{expedientesBean.setTabIndex(0)}"/>
                            </h:commandLink>
                            &nbsp;
                            <button type="reset" class="btn btn-default buttonPopupLevel2" style="font-size: 11pt; width: 100pt; color: white; padding:9px; background-color:grey; font-weight:bold; border:solid 1px grey; -webkit-appearance:none; border-radius: 5px">
                                <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Restablecer
                            </button>
                        </div>
                    </div>

                </p:tab>

                <p:tab title="Dirección de residencia">

                    <br/>
                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Colonia/Urbanización *</b></h6>
                            <p:inputText id="coloniagestion" value="#{expedientesBean.direccionEditar.direccionColonia}" required="true"
                                         style="width: 100%" requiredMessage="Colonia es requerida."/>
                            <p:message for="coloniagestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Calle/Avenida</b></h6>
                            <p:inputText id="callegestion" value="#{expedientesBean.direccionEditar.direccionCalle}" maxlength="50" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Pasaje/Senda</b></h6>
                            <p:inputText id="pasajegestion" value="#{expedientesBean.direccionEditar.direccionPasaje}" maxlength="50" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Polígono/Block</b></h6>
                            <p:inputText id="poligonogestion" value="#{expedientesBean.direccionEditar.direccionPoligono}" maxlength="50" style="width: 100%"/>
                        </div>
                    </div>
                    <br/>

                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Apartamento/Local</b></h6>
                            <p:inputText id="apartamentogestion" value="#{expedientesBean.direccionEditar.direccionApartamento}" maxlength="50" style="width: 100%"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Casa número *</b></h6>
                            <p:inputText id="casagestion" value="#{expedientesBean.direccionEditar.direccionCasa}" required="true" maxlength="10"
                                         style="width: 100%" requiredMessage="Número de casa es requerido."/>
                            <p:message for="casagestion"/>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Departamento</b></h6>
                            <p:selectOneMenu value="#{expedientesBean.direccionEditar.municipioId.departamentoId.departamentoId}" style="width: 100%">
                                <f:selectItems value="#{expedientesBean.todosDepartamentos()}" var="departamento" 
                                               itemLabel="#{departamento.departamentoNombre}" itemValue="#{departamento.departamentoId}" />
                                <p:ajax update="municipiogestion"/>
                            </p:selectOneMenu>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <h6><b>Municipio *</b></h6>
                            <p:selectOneMenu id="municipiogestion" value="#{expedientesBean.direccionEditar.municipioId}" required="true"
                                             converter="#{municipioConvertidor}" style="width: 100%" requiredMessage="Municipio es requerido.">
                                <f:selectItems value="#{expedientesBean.todosMunicipiosPorDepartamentoEditar()}" var="municipio"
                                               itemLabel="#{municipio.municipioNombre}" itemValue="#{municipio}" />
                            </p:selectOneMenu>
                            <p:message for="municipiogestion"/>
                        </div>
                    </div>
                    <br/>

                    <div class="row" style="margin-left: 5px; margin-right: 5px">
                        <div class="col-lg-12" align="right">
                            <h:commandLink type="submit" class="btn btn-default buttonLevel1" actionListener="#{expedientesBean.editarDireccion()}"
                                           style="font-size: 11pt; width: 100pt; color: white; padding:9px; background-color:#FB6F52; font-weight:bold; border:solid 1px #FB6F52; -webkit-appearance:none; border-radius: 5px">
                                <i class="glyphicon glyphicon-floppy-disk"></i> Guardar
                                <f:event type="preValidate" listener="#{expedientesBean.setTabIndex(0)}"/>
                            </h:commandLink>
                            &nbsp;
                            <button type="reset" class="btn btn-default buttonPopupLevel2" style="font-size: 11pt; width: 100pt; color: white; padding:9px; background-color:grey; font-weight:bold; border:solid 1px grey; -webkit-appearance:none; border-radius: 5px">
                                <span class="glyphicon glyphicon-repeat" aria-hidden="true"></span> Restablecer
                            </button>
                        </div>
                    </div>

                </p:tab>
            </p:tabView>
        </h:form>
        <p:spacer height="50"/>
    </ui:composition>
</html>

